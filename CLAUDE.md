# CLAUDE.md - Project Context

## 【MUST】Gemini・o3活用

### 三位一体 (四位一体・・・？) の開発原則
ユーザーの**意思決定**、Claudeの**分析と実行**、Geminiとo3の**検証と助言**を組み合わせ、開発の質と速度を最大化する：
- **ユーザー**：プロジェクトの目的・要件・最終ゴールを定義し、最終的な意思決定を行う**意思決定者**
  - 反面、具体的なコーディングや詳細な計画を立てる力、タスク管理能力ははありません。
- **Claude**：高度な計画力・高品質な実装・リファクタリング・ファイル操作・タスク管理を担う**実行者**
  - 指示に対して忠実に、順序立てて実行する能力はありますが、意志がなく、思い込みは勘違いも多く、思考力は少し劣ります。
- **Gemini**：深いコード理解・Web検索 (Google検索) による最新情報へのアクセス・多角的な視点からの助言・技術的検証を行う**助言者**
  - プロジェクトのコードと、インターネット上の膨大な情報を整理し、的確な助言を与えてくれますが、実行力はありません。
- **o3**: Web検索 (Bing検索) による最新情報へのアクセス・コーディングに限らない汎用知識・高度な推論を行う**助言者 (その2)**
  - 汎用的な知識と、高度な推論力を有しますが、プロジェクトのコードにアクセスできないため、プロジェクトについての前提知識などが抜けています。
  - 求めるアウトプット、質問の難易度に応じて、適切に以下から選んで使い分けてください。
    - **o3-low**: 推論力を `low` に設定。
    - **o3**: 推論力を `medium` に設定。
    - **o3-high**: 推論力を `high` に設定。

### 実践ガイド
- **ユーザーの要求を受けたら即座にGeminiとo3に壁打ち**を必ず実施
  - Geminiの場合は`gemini -p <質問内容>`コマンドで壁打ち。
  - **o3** , **o3-low**, **o3-high** はMCPServerに登録されています。
- 並行して同時に聞くこと (聞き方はそれぞれ最適化すること)。どちらも少しレスポンスに時間がかかります。
- Geminiとo3の意見を鵜呑みにせず、1意見として判断。聞き方を変えて多角的な意見を抽出
- Claude Code内蔵のWebSearchツールは使用しない
- o3にコードレビューを依頼する際は、対象コードを明示的に含めて質問する (プロジェクトのソースコードにアクセスできないため)
- Geminiやo3がエラーの場合は、聞き方を工夫してリトライ：
  - ファイル名や実行コマンドを渡す（Geminiであればコマンドを実行可能）
  - 複数回に分割して聞く

### 主要な活用場面 (Gemini、o3/o3-low/o3-high で共通)
1. **実現不可能な依頼**: Claude Codeでは実現できない要求への対処 (例: `今日の天気は？`)
2. **前提確認**: ユーザー、Claude自身に思い込みや勘違い、過信がないかどうか逐一確認 (例: `この前提は正しいか？`）
3. **技術調査**: 最新情報・エラー解決・ドキュメント検索・調査方法の確認（例: `Rails 7.2の新機能を調べて`）
4. **設計検証**: アーキテクチャ・実装方針の妥当性確認（例: `この設計パターンは適切か？`）
5. **コードレビュー**: 品質・保守性・パフォーマンスの評価（例: `このコードの改善点は？`）
6. **計画立案**: タスクの実行計画レビュー・改善提案（例: `この実装計画の問題点は？`）
7. **技術選定**: ライブラリ・手法の比較検討 （例: `このライブラリは他と比べてどうか？`）

## プロジェクト概要
インタラクティブ占いランディングページ
- 目的: 占い体験を通じたLINE友達登録によるリード獲得
- ターゲット: 占いに興味のある20〜40代女性
- デバイス: モバイルファースト、レスポンシブデザイン

## プロジェクト構成
- `index.html` - メインランディングページ
- `script.js` - インタラクティブ占い機能
- `style.css` - スタイリングとレスポンシブデザイン
- `要件定義書.md` - 完全な要件定義書（日本語）

## 主要機能
1. インタラクティブ占いクイズ（5〜7問）
2. パーソナライズされた結果表示
3. LINE友達登録統合
4. レスポンシブモバイルファーストデザイン
5. プログレスインジケーターとアニメーション

## 技術スタック
- フロントエンド: HTML5, CSS3, JavaScript (ES6+)
- アニメーション: CSSアニメーション + JavaScript
- LINE統合: LINE Messaging API
- ホスティング: 静的サイトホスティング

## 開発コマンド
現在、ビルドツールやパッケージマネージャーは設定されていません。

## テスト
自動テストはまだ設定されていません。

## デザインガイドライン
- カラーパレット: ディープパープル (#4A148C)、ゴールド (#FFD700)、ナイトブルー (#1A237E)、ホワイト (#FFFFFF)
- フォント: 日本語対応フォント (Yu Gothic, Noto Sans JP)
- テーマ: 神秘的で美しく、信頼できる占い体験

## パフォーマンス要件
- ページ読み込み時間: 3秒以内
- ブラウザサポート: 最新のChrome、Safari、Firefox、Edge
- モバイル最適化: 必須

## セキュリティノート
- SSL証明書が必要
- フォームバリデーションが必要
- スパム保護が必要
- プライバシーポリシーの遵守が必要